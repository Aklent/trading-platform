"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8278],{28278:function(e,t,l){l.r(t);var a=l(52322),n=l(10128),s=l(40671),r=l(60581),d=l(20282),o=l(88896),i=l(87084),c=l(60750),m=l(17191),u=l(34680),x=l(35332),p=l(55469),h=l(38450),f=l(79742),v=l(19034),j=l.n(v),b=l(5632),N=l(2784),w=l(2380),g=l(93780),A=l(73932);let E=e=>"ENROLLED"===e||"PLACED"===e;t.default=e=>{let{enrollNowHandler:t}=e,{t:l}=(0,w.$)(),v=(0,p.T)(),y=(0,p.C)(x.tT),C=(0,b.useRouter)(),P=(0,p.C)(h.Y9),D=(0,f.pti)(),[Y,L]=(0,N.useState)(""),[O,Z]=(0,N.useState)({show:!1,data:null}),[k,I]=(0,N.useState)({data:null,allProductsPaid:!0,allProductsValid:!0,allZeroValueProductsPaid:!0,atLeastOneProductIsAWhitelist:!1}),[T,S]=(0,N.useState)({show:!1,data:null}),M=()=>{S({show:!1,data:null})},_=()=>{Z({show:!1,data:null})},R=()=>{Z({show:!0,data:null})},[W,q]=(0,N.useState)({show:!1,data:null,attendance:null}),H=()=>{q({show:!0,data:null,attendance:null})},V=e=>{(0,f.WRB)({id:y.uuid,option:"placements",suboption:e,parameter:"attendance"}).then(e=>{q(t=>({...t,attendance:e.data}))})},z=(e,t)=>{L(e),(0,f.zOJ)({id:y.uuid,option:"placements",suboption:e}).then(l=>{var a,n,s,r;let d=[];t?q(e=>({...e,data:l.data})):Z(e=>({...e,data:l.data})),(null==l?void 0:null===(n=l.data)||void 0===n?void 0:null===(a=n.prerequisiteProductIds)||void 0===a?void 0:a.length)>0&&(null==l||null===(r=l.data)||void 0===r||null===(s=r.prerequisiteProductIds)||void 0===s||s.map(t=>{(0,f.zOJ)({id:y.uuid,option:"placements",suboption:e,parameter:"prerequisites",subParameter:t}).then(e=>{let t={};e.data.doesUserHaveProduct||(t.allProductsPaid=!1),e.data.valid||(t.allProductsValid=!1),"WHITELIST"===e.data.category&&(t.atLeastOneProductIsAWhitelist=!0),0!==e.data.price||e.data.doesUserHaveProduct||(t.allZeroValueProductsPaid=!1),d.push(e.data),I(e=>({...e,data:[...d],...t}))})}))})},B=e=>{var t,l,a;if((null==P?void 0:null===(t=P[e])||void 0===t?void 0:t.enrollmentAllowed)||(null==P?void 0:null===(l=P[e])||void 0===l?void 0:l.enrollmentAllowedAfterOverride)){let t=null==P?void 0:null===(a=P[e])||void 0===a?void 0:a.enrolBy,l=new Date,n=new Date(t);return Math.floor((n-=l)/1e3/60/60/24)}},U=(e,t)=>{S({show:!0,data:{isTncApplicable:e,termsAndConditions:t}})},J=e=>{Z(e=>({...e,enrolled:!1})),z(e.placementIdentifier,!1),R()};return(0,a.jsxs)("div",{className:"flex flex-grow flex-col",children:[T.show&&(0,a.jsx)(u.Z,{open:T.show,handleClose:M,data:T.data}),O.show&&(0,a.jsx)(A.default,{open:O.show,handleClose:_,data:O.data,enrollNowHnadler:e=>{let l={isTncApplicable:null==e?void 0:e.placementAttributes["student.placement.has.terms.conditions"],termsAndConditions:null==e?void 0:e.placementAttributes["student.placement.terms.conditions"]};D({showCloseIcon:!1,headerText:"Confirm",child:(0,a.jsx)(u.Z,{open:!0,handleClose:M,data:l,viewOnly:!1}),catchOnCancel:!0}).then(()=>{t(e,t=>{t.data&&v((0,h.lp)(e))}),_()})},payAndEnrollHandler:()=>{(0,f.Yox)({id:y.uuid,option:"placements",suboption:Y,parameter:"prerequisites",subParameter:"orders"},{}).then(e=>{var t;C.push("/orders/"+(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.id)+"/"+Y)})},prerequisitesProducts:k}),W.show&&(0,a.jsx)(g.default,{open:W.show,handleClose:()=>{q({show:!1,data:null,attendance:null})},data:null==W?void 0:W.data,attendance:null==W?void 0:W.attendance,prerequisitesProducts:k}),(0,a.jsxs)("div",{className:"mt-14",children:[(0,a.jsx)("h2",{className:"text-base text-dark font-bold",children:l("profile.placementEnrollments.heading")}),(0,a.jsx)(o.Z,{className:"!my-4 !mx-auto"}),(0,a.jsx)("div",{className:"mt-6 grid gap-5",children:P?P.map((e,t)=>(0,a.jsx)("div",{children:"supset.offcampus.placement.cycle"!==e.placementIdentifier&&(0,a.jsxs)("div",{className:"flex justify-between border border-zinc-300 rounded-lg gap-5 py-4 px-5 sm:py-5 sm:px-6 flex-col md:flex-row",children:[(0,a.jsx)("div",{className:"flex justify-between items-end",children:(0,a.jsxs)("div",{className:"flex gap-4 w-full",children:[(0,a.jsx)("div",{className:"text-center hidden sm:flex",children:(0,a.jsxs)("div",{className:"text-xl  flex items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xl font-normal text-dark",children:e.startDate?j()(e.startDate).format("MMM"):"N/A"}),(0,a.jsx)("p",{className:"text-base font-normal text-gray-500",children:e.startDate?j()(e.startDate).format("YYYY"):"N/A"})]}),(0,a.jsx)("div",{className:"p-2",children:"-"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xl font-normal text-dark",children:e.endDate?j()(e.endDate).format("MMM"):"N/A"}),(0,a.jsx)("p",{className:"text-base font-normal text-gray-500",children:e.endDate?j()(e.endDate).format("YYYY"):"N/A"})]})]})}),(0,a.jsx)(o.Z,{sx:{display:{xs:"none",sm:"block"}},orientation:"vertical",flexItem:!0}),(0,a.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"block sm:flex items-center gap-2.5 mb-1",children:[(0,a.jsxs)("div",{className:"flex sm:block justify-between order-2",children:[(0,a.jsxs)("div",{className:"text-center flex sm:hidden mt-1 items-center",children:[(0,a.jsx)("p",{className:"text-xs font-normal text-gray-500",children:e.startDate?j()(e.startDate).format("MMM YYYY"):"N/A"}),"\xa0\xa0-\xa0\xa0",(0,a.jsx)("p",{className:"text-xs font-normal text-gray-500",children:e.endDate?j()(e.endDate).format("MMM YYYY"):"N/A"})]}),!e.enrollmentAllowed&&!e.enrollmentAllowedAfterOverride&&(0,a.jsx)(i.Z,{label:"Enrollment Closed"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-1",children:[(0,a.jsx)("h2",{className:"text-base text-dark font-medium order-1",children:e.name}),"YET_TO_ENROL"==e.enrolmentStatus&&e.enrollmentAllowed&&e.enrolBy&&(0,a.jsxs)("p",{className:"text-sm font-medium order-1 bg-[rgba(199,37,78,0.15)] text-[#C7254E] rounded-full py-0.5 px-2.5 mt-1 md:mt-0",children:["Enrollment closes in"," ",B(t)," ","day(s)"]})]})]}),(0,a.jsxs)("div",{children:[E(e.enrolmentStatus)&&(0,a.jsx)(c.Z,{sx:{cursor:"pointer"},underline:"none",onClick:()=>{z(e.placementIdentifier,!0),V(e.placementIdentifier),H()},children:(0,a.jsx)("div",{className:"text-indigo-700 hover:text-indigo-500",children:l("profile.placementEnrollments.viewDetails")})}),"YET_TO_ENROL"===e.enrolmentStatus&&"true"===e.placementAttributes["student.placement.has.terms.conditions"]&&(0,a.jsx)(c.Z,{sx:{cursor:"pointer"},underline:"none",onClick:()=>U(null==e?void 0:e.placementAttributes["student.placement.has.terms.conditions"],null==e?void 0:e.placementAttributes["student.placement.terms.conditions"]),children:(0,a.jsx)("div",{className:"text-indigo-700 hover:text-indigo-500",children:"Terms & Conditions"})})]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-center",children:["PLACED"===e.enrolmentStatus&&(0,a.jsx)(i.Z,{variant:"outlined",label:"Placed",sx:{width:{xs:"100%",md:"7.5rem"},fontWeight:"400",marginLeft:"0.9375rem",color:"rgba(23, 166, 115, 1)",borderColor:"rgba(23, 166, 115, 0.5)"},icon:(0,a.jsx)(d.Z,{style:{color:"rgba(23, 166, 115, 1)"}})}),"ENROLLED"===e.enrolmentStatus&&(0,a.jsx)(i.Z,{variant:"outlined",label:l("profile.placementEnrollments.enrolledLabel"),sx:{width:{xs:"100%",md:"7.5rem"},fontWeight:"400",marginLeft:"0.9375rem",color:"rgba(23, 166, 115, 1)",borderColor:"rgba(23, 166, 115, 0.5)"},icon:(0,a.jsx)(s.Z,{className:"!text-base",style:{color:"rgba(23, 166, 115, 1)"}})}),"UNENROLLED"===e.enrolmentStatus&&(0,a.jsx)(m.Z,{title:l("profile.placementEnrollments.unenrolled"),children:(0,a.jsx)(i.Z,{variant:"outlined",label:l("profile.placementEnrollments.unenrolledLabel"),sx:{width:{xs:"100%",md:"7.5rem"},fontWeight:"400",marginLeft:"0.9375rem",color:"rgba(202, 64, 58, 1)",borderColor:"rgba(202, 64, 58, 0.5)"},icon:(0,a.jsx)(n.Z,{className:"!text-base",style:{color:"rgba(202, 64, 58, 1)"}})})}),"YET_TO_ENROL"===e.enrolmentStatus&&(e.enrollmentAllowed||e.enrollmentAllowedAfterOverride)&&e.eligibilityCheck.result&&(0,a.jsx)(f.Ain,{sx:{width:{xs:"100%",md:"7.5rem"}},variant:"contained",onClickHandler:()=>{J(e)},children:l("profile.placementEnrollments.proceed")}),"INVITED"===e.enrolmentStatus&&(0,a.jsx)(f.Ain,{sx:{width:{xs:"100%",md:"7.5rem"}},variant:"contained",Icon:(0,a.jsx)(r.Z,{style:{display:"none"}}),children:l("profile.placementEnrollments.proceed")})]})]},e.identifier)},t)):(0,a.jsx)("p",{children:l("profile.placementEnrollments.enrolled")})})]})]})}}}]);
//# sourceMappingURL=8278-808ea66ac6bc1568.js.map